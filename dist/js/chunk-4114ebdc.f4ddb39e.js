(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4114ebdc"],{"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var c=n.call(t,e);if("object"!==typeof c)throw TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},1925:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var r=n("b775"),i=function(t){return Object(r["a"])({method:"get",url:"/app/v1_0/suggestion",params:{q:t}})},c=function(t,e){return Object(r["a"])({method:"get",url:"/app/v1_0/search",params:{page:t,q:e}})}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),c=n("b622"),o=c("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},"4d63":function(t,e,n){var r=n("83ab"),i=n("da84"),c=n("94ca"),o=n("7156"),a=n("9bf2").f,u=n("241c").f,s=n("44e7"),l=n("ad6d"),f=n("9f7f"),d=n("6eeb"),p=n("d039"),h=n("69f3").set,g=n("2626"),v=n("b622"),x=v("match"),y=i.RegExp,E=y.prototype,b=/a/g,m=/a/g,k=new y(b)!==b,w=f.UNSUPPORTED_Y,R=r&&c("RegExp",!k||w||p((function(){return m[x]=!1,y(b)!=b||y(m)==m||"/a/i"!=y(b,"i")})));if(R){var S=function(t,e){var n,r=this instanceof S,i=s(t),c=void 0===e;if(!r&&i&&t.constructor===S&&c)return t;k?i&&!c&&(t=t.source):t instanceof S&&(c&&(e=l.call(t)),t=t.source),w&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var a=o(k?new y(t,e):y(t,e),r?this:E,S);return w&&n&&h(a,{sticky:n}),a},_=function(t){t in S||a(S,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},I=u(y),T=0;while(I.length>T)_(I[T++]);E.constructor=S,S.prototype=E,d(i,"RegExp",S)}g("RegExp")},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),c=n("7b0b"),o=n("50c4"),a=n("a691"),u=n("1d80"),s=n("8aa5"),l=n("14c3"),f=Math.max,d=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var x=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,E=x?"$":"$0";return[function(n,r){var i=u(this),c=void 0==n?void 0:n[t];return void 0!==c?c.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!x&&y||"string"===typeof r&&-1===r.indexOf(E)){var c=n(e,t,this,r);if(c.done)return c.value}var u=i(t),p=String(this),h="function"===typeof r;h||(r=String(r));var g=u.global;if(g){var m=u.unicode;u.lastIndex=0}var k=[];while(1){var w=l(u,p);if(null===w)break;if(k.push(w),!g)break;var R=String(w[0]);""===R&&(u.lastIndex=s(p,o(u.lastIndex),m))}for(var S="",_=0,I=0;I<k.length;I++){w=k[I];for(var T=String(w[0]),O=f(d(a(w.index),p.length),0),P=[],$=1;$<w.length;$++)P.push(v(w[$]));var A=w.groups;if(h){var U=[T].concat(P,O,p);void 0!==A&&U.push(A);var C=String(r.apply(void 0,U))}else C=b(T,p,O,P,A,r);O>=_&&(S+=p.slice(_,O)+C,_=O+T.length)}return S+p.slice(_)}];function b(t,n,r,i,o,a){var u=r+t.length,s=i.length,l=g;return void 0!==o&&(o=c(o),l=h),e.call(a,l,(function(e,c){var a;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":a=o[c.slice(1,-1)];break;default:var l=+c;if(0===l)return e;if(l>s){var f=p(l/10);return 0===f?e:f<=s?void 0===i[f-1]?c.charAt(1):i[f-1]+c.charAt(1):e}a=i[l-1]}return void 0===a?"":a}))}}))},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),c=RegExp.prototype.exec,o=String.prototype.replace,a=c,u=function(){var t=/a/,e=/b*/g;return c.call(t,"a"),c.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=u||l||s;f&&(a=function(t){var e,n,i,a,f=this,d=s&&f.sticky,p=r.call(f),h=f.source,g=0,v=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,g++),n=new RegExp("^(?:"+h+")",p)),l&&(n=new RegExp("^"+h+"$(?!\\s)",p)),u&&(e=f.lastIndex),i=c.call(d?n:f,v),d?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:e),l&&i&&i.length>1&&o.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),t.exports=a},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a434:function(t,e,n){"use strict";var r=n("23e7"),i=n("23cb"),c=n("a691"),o=n("50c4"),a=n("7b0b"),u=n("65f0"),s=n("8418"),l=n("1dde"),f=n("ae40"),d=l("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,g=Math.min,v=9007199254740991,x="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!p},{splice:function(t,e){var n,r,l,f,d,p,y=a(this),E=o(y.length),b=i(t,E),m=arguments.length;if(0===m?n=r=0:1===m?(n=0,r=E-b):(n=m-2,r=g(h(c(e),0),E-b)),E+n-r>v)throw TypeError(x);for(l=u(y,r),f=0;f<r;f++)d=b+f,d in y&&s(l,f,y[d]);if(l.length=r,n<r){for(f=b;f<E-r;f++)d=f+r,p=f+n,d in y?y[p]=y[d]:delete y[p];for(f=E;f>E-r+n;f--)delete y[f-1]}else if(n>r)for(f=E-r;f>b;f--)d=f+r-1,p=f+n-1,d in y?y[p]=y[d]:delete y[p];for(f=0;f<n;f++)y[f+b]=arguments[f+2];return y.length=E-r+n,l}})},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),c=n("b622"),o=n("9263"),a=n("9112"),u=c("species"),s=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=c("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var h=c(t),g=!i((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=g&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!g||!v||"replace"===t&&(!s||!l||d)||"split"===t&&!p){var x=/./[h],y=n(h,""[t],(function(t,e,n,r,i){return e.exec===o?g&&!i?{done:!0,value:x.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),E=y[0],b=y[1];r(String.prototype,t,E),r(RegExp.prototype,h,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}f&&a(RegExp.prototype[h],"sham",!0)}},efe3:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("van-nav-bar",{attrs:{"left-arrow":"",title:"搜索中心"},on:{"click-left":function(e){return t.$router.back()}}}),n("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词",shape:"round"},on:{input:t.getSuggestion},scopedSlots:t._u([{key:"action",fn:function(){return[n("div",{on:{click:t.clickSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.keyword,callback:function(e){t.keyword="string"===typeof e?e.trim():e},expression:"keyword"}}),""!==t.keyword.trim()?n("van-cell-group",t._l(t.showSuggestions,(function(e,r){return n("van-cell",{key:r,attrs:{icon:"search"},on:{click:function(e){return t.clickSuggestion(r)}}},[n("div",{domProps:{innerHTML:t._s(e)}})])})),1):n("van-cell-group",[t.history.length>0?n("van-cell",{attrs:{title:"历史记录"}}):t._e(),t._l(t.history,(function(e,r){return n("van-cell",{key:r,attrs:{title:e},on:{click:function(n){return t.clickHistory(e)}}},[n("van-icon",{attrs:{name:"close"},on:{click:function(e){return e.stopPropagation(),t.delHistory(r)}}})],1)}))],2)],1)},i=[],c=(n("c740"),n("d81d"),n("a434"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("498a"),n("96cf"),n("1da1")),o=n("1925"),a=n("5d2d"),u={name:"Search",data:function(){return{keyword:"",suggestions:[],history:Object(a["a"])(),timeId:null}},methods:{getSuggestion:function(){var t=this;clearTimeout(this.timeId),this.timeId=setTimeout(Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.keyword.trim()){e.next=3;break}return t.suggestions=[],e.abrupt("return");case 3:return e.next=5,Object(o["b"])(t.keyword);case 5:n=e.sent,t.suggestions=n.data.data.options;case 7:case"end":return e.stop()}}),e)}))),300)},clickSearch:function(){""!==this.keyword.trim()&&this.addHistory(this.keyword)},clickSuggestion:function(t){this.addHistory(this.suggestions[t])},clickHistory:function(t){this.addHistory(t)},addHistory:function(t){var e=this.history.findIndex((function(e){return e===t}));-1!==e&&this.history.splice(e,1),this.history.unshift(t),Object(a["d"])(this.history),this.$router.push("/searchResult?keyword="+t)},delHistory:function(t){this.history.splice(t,1),Object(a["d"])(this.history)}},computed:{showSuggestions:function(){var t=this,e=this.suggestions.map((function(e){var n=new RegExp(t.keyword,"gi"),r=e.replace(n,(function(t){return'<span style="color: red;">'.concat(t,"</span>")}));return r}));return e}}},s=u,l=n("2877"),f=Object(l["a"])(s,r,i,!1,null,"5044a75f",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-4114ebdc.f4ddb39e.js.map